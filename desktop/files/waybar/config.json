[{
	// Whether the bar is displayed in front of (top) or behind (bottom) the windows.
	"layer": "top",

	// Modules to display on the left.
	"modules-left": [
		"image#programs",   "custom/spacer",
		"image#files",      "custom/spacer",
		"image#screenshot", "custom/spacer",
		"image#clipboard",  "custom/spacer",
		"image#picker",     "custom/spacer",
		"tray",             "custom/bigspacer",
		"image#power"
	],

	// Modules to display on the center.
	"modules-center": [ "niri/workspaces" ],

	// Modules to display on the right.
	"modules-right": [
		"image#cpu", "cpu",    "temperature", "custom/spacer",
		"image#ram", "memory", "custom/spacer",
		"battery",
		"backlight",
		"custom/brightness",
		"wireplumber", "custom/spacer",
		"clock",       "custom/bigspacer",
		"image#close"
	],

	// Normal-sized transparent spacer module.
	"custom/spacer": {
		"format": "  ",
		"interval": "once",
		"tooltip": false
	},

	// Large-sized transparent spacer module.
	"custom/bigspacer": {
		"format": "    ",
		"interval": "once",
		"tooltip": false
	},

	// Program launcher module.
	// • [LMB] Open a custom program launcher.
	// • [RMB] Open a generic run laucher.
	"image#programs": {
		"on-click": "/etc/nixos/scripts/programs.sh",
		"on-click-right": "fuzzel --no-icons",
		"path": "/etc/nixos/icons/programs.svg",
		"size": 22
	},

	// File manager shortcut module.
	// • [LMB] Open the file manager in the `$HOME` directory.
	// • [RMB] Open the file manager in another desired directory.
	"image#files": {
		"on-click": "$FILEMANAGER",
		"on-click-right": "$FILEMANAGER $HOME/Downloads",
		"path": "/etc/nixos/icons/files.svg",
		"size": 22
	},

	// Screenshot shortcut module.
	// • [LMB] Take a screenshot of a region on the screen without saving.
	// • [RMB] Take a screenshot of a region on the screen and save.
	// • [MMB] Show a menu to access more screenshot options.
	"image#screenshot": {
		"on-click": "dash -c '/etc/nixos/scripts/screenshot.sh --copy area && systemctl restart --user waybar.service'",
		"on-click-right": "dash -c '/etc/nixos/scripts/screenshot.sh --save area && systemctl restart --user waybar.service'",
		"on-click-middle": "/etc/nixos/scripts/screenshot-selection.sh",
		"path": "/etc/nixos/icons/screenshot.svg",
		"size": 22
	},

	// Clipboard module.
	// • [LMB] Open a clipboard manager.
	// • [RMB] Open a clipboard text file.
	// • [MMB] Clear the clipboard content of the clipboard manager.
	// • [F/BMB] Open a bookmarks text file.
	"image#clipboard": {
		"on-click": "clipman pick -t CUSTOM -T \"fuzzel -d --no-icons\"",
		"on-click-right": "$TERMINAL $EDITOR $HOME/Documents/Clipboard.txt",
		"on-click-middle": "clipman clear --all & dunstify -t 1500 'Clipboard cleared.'",
		"on-click-backward": "$TERMINAL $EDITOR $HOME/Documents/Bookmarks.txt",
		"on-click-forward": "$TERMINAL $EDITOR $HOME/Documents/Bookmarks.txt",
		"path": "/etc/nixos/icons/clipboard.svg",
		"size": 22
	},

	// Color picker module.
	// • [LMB] Pick a color anywhere on the desktop.
	// • [RMB] Open a graphical color picker.
	"image#picker": {
		"on-click": "dash -c 'niri msg pick-color && systemctl restart --user waybar.service'",
		"on-click-right": "gcolor3",
		"path": "/etc/nixos/icons/picker.svg",
		"size": 22
	},

	// System tray module.
	"tray": {
		"icon-size": 22,
		"reverse-direction": true,
		"spacing": 8
	},

	// Power menu module.
	"image#power": {
		"on-click": "/etc/nixos/scripts/power.sh",
		"path": "/etc/nixos/icons/power.svg",
		"size": 22
	},

	// CPU monitoring modules.
	// • [LMB] Open a system resources monitor.
	// • [RMB] Show detailed current system temperatures at a glance.
	// • [MMB] Show detailed current memory usage at a glance.
	"image#cpu": {
		"on-click": "$TERMINAL -e btop",
		"on-click-right": "dunstify \"$(sensors)\"",
		"on-click-middle": "dunstify \"$(free -mht)\"",
		"path": "/etc/nixos/icons/cpu.svg",
		"size": 22
	},
	"cpu": {
		"format": "{usage}% ",
		"interval": 1,
		"on-click": "$TERMINAL -e btop",
		"on-click-right": "dunstify \"$(sensors)\"",
		"on-click-middle": "dunstify \"$(free -mht)\""
	},
	"temperature": {
		"critical-threshold": 75,
		"format": "{temperatureC}°C",

		// R5 PC
		"hwmon-path": "/sys/class/hwmon/hwmon1/temp1_input",

		// HP 250 G6
		//"hwmon-path": "/sys/class/hwmon/hwmon6/temp1_input",

		"interval": 1,
		"on-click": "$TERMINAL -e btop",
		"on-click-right": "dunstify \"$(sensors)\"",
		"on-click-middle": "dunstify \"$(free -mht)\""
	},

	// RAM monitoring modules.
	// • [LMB] Open a system resources monitor.
	// • [RMB] Show detailed current memory usage at a glance.
	// • [MMB] Show detailed current system temperatures at a glance.
	"image#ram": {
		"on-click": "$TERMINAL -e btop",
		"on-click-right": "dunstify \"$(sensors)\"",
		"on-click-middle": "dunstify \"$(free -mht)\"",
		"path": "/etc/nixos/icons/ram.svg",
		"size": 22
	},
	"memory": {
		"format": "{percentage}%",
		"interval": 1,
		"on-click": "$TERMINAL -e btop",
		"on-click-right": "dunstify \"$(sensors)\"",
		"on-click-middle": "dunstify \"$(free -mht)\""
	},

	// Battery monitoring module.
	// • [LMB] Show a detailed battery readout at a glance.
	"battery": {
		"exec-if": "ls /sys/class/power_supply/BAT* > /dev/null 2>&1",
		"states": {
			"warning": 35,
			"critical": 20,
		},
		"format": "{icon} {capacity}%  ",
		"format-icons": [ " ", " ", " ", " ", " " ],
		"on-click": "dunstify \"Battery information\" \"$(acpi -bi)\""
	},

	// Backlight module.
	// • [SCRL UP] Increase the screen brightness.
	// • [SCRL DN] Decrease the screen brightness.
	"backlight": {
		"exec-if": "ls /sys/class/backlight/* > /dev/null 2>&1",
		"format": "{icon}{percent}%  ",
		"format-icons": [ "󰃜 ", "󰃞 ", "󰃟 ", "󰃠 ", "󰃚 " ]
	},

	// Custom brightness module for external monitors.
	// • [SCRL UP] Increase the external monitor brightness.
	// • [SCRL DN] Decrease the external monitor brightness.
	"custom/brightness": {
		"exec": "ddcutil --display 1 getvcp 10 | grep \"Brightness\" | awk '{print $9}' | tr -d ','",
		"exec-if": "ddcutil detect",
		"format": "{icon}{}%  ",
		"format-icons": [ "󰃜 ", "󰃞 ", "󰃟 ", "󰃠 ", "󰃚 " ],
		"interval": "once",
		"on-scroll-up": "ddcutil --display 1 setvcp 10 + 2",
		"on-scroll-down": "ddcutil --display 1 setvcp 10 - 2"
	},

	// Audio output monitoring and control module.
	// • [LMB] Opens a sound control program.
	// • [RMB] Opens an audio patchbay.
	// • [MMB] Toggles muting the output volume.
	// • [SCRL UP] Increases the output volume by 1%.
	// • [SCRL DN] Decreases the output volume by 1%.
	"wireplumber": {
		"format": "{icon} {volume}%",
		"format-icons": [ " ", " ", " " ],
		"format-muted": " ",
		"on-click": "pwvucontrol",
		"on-click-right": "qpwgraph",
		"on-click-middle": "wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle"
	},

	// Date and time module.
	// • [LMB] Opens a calendar.
	"clock": {
		//"format": "{:%d/%m/%Y %H:%M:%S}",
		"format": "{:%d/%m %Hh%M}",
		"interval": 1,
		"on-click": "$TERMINAL -e calcurse",
		"tooltip-format": "<tt>{calendar}</tt>"
	},

	// Close/kill button module.
	// • [LMB] Closes the focused window.
	// • [RMB (hold)] Select a window to kill/force quit.
	"image#close": {
		"on-click": "niri msg action close-window",
		"path": "/etc/nixos/icons/close.svg",
		"size": 22
	}
}]